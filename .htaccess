# Route everything to public/ while allowing direct access to real files/dirs
RewriteEngine On
RewriteBase /interior-erp/

# If the request is already for /public, let it pass
RewriteRule ^public/ - [L]

# If file or directory exists in root, serve it
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Otherwise, forward to public/
RewriteRule ^(.*)$ public/$1 [L]

# Security fences
<Files ".env">
  Require all denied
  Satisfy All
</Files>
RedirectMatch 404 /\.git(/|$)
RedirectMatch 404 /\.hg(/|$)
RedirectMatch 404 /\.svn(/|$)

Options -Indexes
